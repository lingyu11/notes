# HOT 100

## èµ„æ–™
* [HOT 100](https://leetcode.cn/studyplan/top-100-liked/)

## ä¸€ã€å“ˆå¸Œ

1. [ä¸¤æ•°ä¹‹å’Œ](https://leetcode.cn/problems/two-sum/description/)ï¼š[é¢˜è§£](å¸¸ç”¨æ•°æ®ç»“æ„.md#two-sum)

2. [å­—æ¯å¼‚ä½è¯åˆ†ç»„](https://leetcode.cn/problems/group-anagrams/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå°†å­—ç¬¦ä¸²ä»å°åˆ°å¤§æ’åºï¼Œè‹¥æ’åºååç›¸ç­‰ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­—ç¬¦ä¸²å°±äº’ä¸ºå­—æ¯å¼‚ä½è¯ï¼Œå¦åˆ™ä¸æ˜¯ã€‚**

    ```python
    class Solution:
        def groupAnagrams(self, strs: List[str]) -> List[List[str]]:
            d = defaultdict(list)
            for s in strs:
                sorted_s = ''.join(sorted(s))
                d[sorted_s].append(s)
            return list(d.values())
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(nmlogm)ï¼Œå…¶ä¸­ n ä¸º strs çš„é•¿åº¦ï¼Œm ä¸º strs[i] çš„é•¿åº¦ã€‚æ¯ä¸ªå­—ç¬¦ä¸²æ’åºéœ€è¦ O(mlogm) çš„æ—¶é—´ï¼Œæœ‰ n ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(nmlogm)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(nm)ã€‚


    > sorted('eat') å¾—åˆ°çš„æ˜¯ ['a', 'e', 't']ï¼Œæ‰€ä»¥è¿˜éœ€è¦ ''.join(sorted('eat')) å¾—åˆ° 'aet'ï¼Œå°† 'aet' ä½œä¸º keyï¼Œå°† 'eat' åŠ å…¥åˆ° value ä¸­ã€‚

3. [æœ€é•¿è¿ç»­åºåˆ—](https://leetcode.cn/problems/longest-consecutive-sequence/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä¸èƒ½æ’åºï¼Œå› ä¸ºæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogn)ï¼Œä¸ç¬¦åˆé¢˜ç›® O(n) çš„è¦æ±‚ã€‚å¯¹äº nums ä¸­çš„å…ƒç´  xï¼Œä»¥ x ä¸ºèµ·ç‚¹ï¼Œä¸æ–­æŸ¥æ‰¾ä¸‹ä¸€ä¸ªæ•° x+1,x+2,â‹¯ æ˜¯å¦åœ¨ nums ä¸­ï¼Œå¹¶ç»Ÿè®¡åºåˆ—çš„é•¿åº¦ã€‚**

    ```python
    class Solution:
        def longestConsecutive(self, nums: List[int]) -> int:
            st = set(nums)       # æŠŠ nums è½¬æˆå“ˆå¸Œé›†åˆ
            ans = 0
            for x in st:         # éå†å“ˆå¸Œé›†åˆ
                if x - 1 in st:  # å¦‚æœ x ä¸æ˜¯åºåˆ—çš„èµ·ç‚¹ï¼Œç›´æ¥è·³è¿‡
                    continue
                y = x + 1        # x æ˜¯åºåˆ—çš„èµ·ç‚¹
                while y in st:   # ä¸æ–­æŸ¥æ‰¾ä¸‹ä¸€ä¸ªæ•°æ˜¯å¦åœ¨å“ˆå¸Œé›†åˆä¸­
                    y += 1       # å¾ªç¯ç»“æŸåï¼Œy-1 æ˜¯æœ€åä¸€ä¸ªåœ¨å“ˆå¸Œé›†åˆä¸­çš„æ•°
                ans = max(ans, y - x) # ä» x åˆ° y-1 ä¸€å…± y-x ä¸ªæ•°
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ nums çš„é•¿åº¦ã€‚åœ¨äºŒé‡å¾ªç¯ä¸­ï¼Œæ¯ä¸ªå…ƒç´ è‡³å¤šéå†ä¸¤æ¬¡ï¼šåœ¨å¤–å±‚å¾ªç¯ä¸­éå†ä¸€æ¬¡ï¼Œåœ¨å†…å±‚å¾ªç¯ä¸­éå†ä¸€æ¬¡ã€‚æ‰€ä»¥äºŒé‡å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n) çš„ã€‚æ¯”å¦‚ nums=[1,2,3,4]ï¼Œå…¶ä¸­ 2,3,4 ä¸ä¼šè¿›å…¥å†…å±‚å¾ªç¯ï¼Œåªæœ‰ 1 ä¼šè¿›å…¥å†…å±‚å¾ªç¯ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(m)ã€‚å…¶ä¸­ m æ˜¯ nums ä¸­çš„ä¸åŒå…ƒç´ ä¸ªæ•°ã€‚

## äºŒã€åŒæŒ‡é’ˆ

1. [ç§»åŠ¨é›¶](https://leetcode.cn/problems/move-zeroes/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œä¸€ä¸ªæ˜¯i0ï¼ŒæŒ‡å‘æœ€å·¦è¾¹0çš„ä½ç½®ï¼Œä¸€ä¸ªæ˜¯iï¼ŒæŒ‡å‘å½“å‰éå†çš„ä½ç½®ã€‚**

    ```python
    class Solution:
    def moveZeroes(self, nums: List[int]) -> None:
        i0 = 0
        for i in range(len(nums)):
            if nums[i]:
                nums[i0], nums[i] = nums[i], nums[i0]
                i0 += 1
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

2. [ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode.cn/problems/container-with-most-water/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œä¸€å¼€å§‹æ—¶å®½åº¦æœ€å®½ï¼Œç„¶åå‘ä¸­é—´æ”¶ç¼©ã€‚height[left] < height[right]æ—¶ï¼Œå¦‚æœå›ºå®šå·¦è¾¹çš„æŸ±å­ï¼Œç§»åŠ¨å³è¾¹çš„æŸ±å­ï¼Œé‚£ä¹ˆæ°´çš„é«˜åº¦ä¸€å®šä¸ä¼šå¢åŠ (å—é™äºheight[left])ï¼Œä¸”å®½åº¦ä¸€å®šå‡å°‘ï¼Œæ‰€ä»¥æ°´çš„é¢ç§¯ä¸€å®šå‡å°‘ï¼Œå› æ­¤æ­¤æ—¶éœ€è¦left++ã€‚ç›¸åçš„æƒ…å†µç±»ä¼¼ï¼Œå³ã€Œè°å°ç§»åŠ¨è°ã€ã€‚**

    ```python
    class Solution:
        def maxArea(self, height: List[int]) -> int:
            ans = left = 0
            right = len(height) - 1
            while left < right:
                area = (right - left) * min(height[left], height[right])
                ans = max(ans, area)
                if height[left] < height[right]:
                    left += 1  # height[left]  ä¸å³è¾¹çš„ä»»æ„çº¿æ®µéƒ½æ— æ³•ç»„æˆä¸€ä¸ªæ¯” ans æ›´å¤§çš„é¢ç§¯
                else:
                    right -= 1 # height[right] ä¸å·¦è¾¹çš„ä»»æ„çº¿æ®µéƒ½æ— æ³•ç»„æˆä¸€ä¸ªæ¯” ans æ›´å¤§çš„é¢ç§¯
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ height çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

3. [ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œå…ˆæ’åºï¼Œç„¶åæšä¸¾ç¬¬ä¸€ä¸ªæ•°ï¼Œå†ç”¨åŒæŒ‡é’ˆæšä¸¾ç¬¬äºŒä¸ªæ•°å’Œç¬¬ä¸‰ä¸ªæ•°ã€‚**

    ```python
    class Solution:
        def threeSum(self, nums: List[int]) -> List[List[int]]:
            nums.sort()            # ä»å°åˆ°å¤§æ’åºï¼Œæ–¹ä¾¿ä½¿ç”¨åŒæŒ‡é’ˆä»¥åŠè·³è¿‡ç›¸åŒå…ƒç´ 
            n = len(nums)
            ans = []               # ä¸‰å…ƒç»„çš„é¡ºåºä¸é‡è¦ï¼Œé‚£æˆ‘ä»¬è‡ªå·±è§„å®šä¸€ä¸ªé¡ºåº i < j < k
            for i in range(n - 2): # ç•™ä¸‹æœ€åçš„ä¸¤ä¸ªå…ƒç´  n - 2 å’Œ n - 1 ä½œä¸º j å’Œ k
                if i > 0 and nums[i] == nums[i - 1]:
                    continue       # å»æ‰ç›¸åŒçš„ nums[i]
                # ======= ä¼˜åŒ–ä»£ç  =======
                if nums[i] + nums[i + 1] + nums[i + 2] > 0:
                    break          # æ­¤æ—¶ä¸å¯èƒ½å†æœ‰æ»¡è¶³æ¡ä»¶çš„äº†
                if nums[i] + nums[-2] + nums[-1] < 0:
                    continue       # è¿™ä¸ª nums[i] å¤ªå°äº†ï¼Œæ²¡å¿…è¦å† j å’Œ k åŒæŒ‡é’ˆäº†ï¼Œç›´æ¥ä¸‹ä¸€ä¸ª nums[i]
                # ======= ä¼˜åŒ–ä»£ç  =======
                j = i + 1          # å¼€å§‹åŒæŒ‡é’ˆ
                k = n - 1
                while j < k:          
                    s = nums[i] + nums[j] + nums[k]
                    if s > 0:
                        k -= 1
                    elif s < 0:
                        j += 1
                    else:
                        ans.append([nums[i], nums[j], nums[k]])
                        j += 1
                        while j < k and nums[j] == nums[j - 1]:
                            j += 1
                        k -= 1
                        while j < k and nums[k] == nums[k + 1]:
                            k -= 1
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚æ’åº O(nlogn)ã€‚å¤–å±‚å¾ªç¯æšä¸¾ç¬¬ä¸€ä¸ªæ•°æ˜¯O(n)ï¼Œå†…å±‚åŒæŒ‡é’ˆä¹Ÿæ˜¯O(n)ï¼Œæ‰€ä»¥æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(n^2)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

4. [æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå®šä¹‰å‰ç¼€æœ€å¤§å€¼å’Œåç¼€æœ€å¤§å€¼ï¼Œã€Œè°å°ç§»åŠ¨è°ã€ã€‚**

    ```python
    class Solution:
        def trap(self, height: List[int]) -> int:
            ans = pre_max = suf_max = 0
            left, right = 0, len(height) - 1
            while left < right:
                pre_max = max(pre_max, height[left])  # å‰ç¼€æœ€å¤§å€¼
                suf_max = max(suf_max, height[right]) # åç¼€æœ€å¤§å€¼
                if pre_max < suf_max:
                    ans += pre_max - height[left]
                    left += 1
                else:
                    ans += suf_max - height[right]
                    right -= 1
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸º height çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## ä¸‰ã€æ»‘åŠ¨çª—å£

1. [æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/description/)ï¼š[é¢˜è§£](æ»‘åŠ¨çª—å£ä¸åŒæŒ‡é’ˆ.md#longest-substring-without-repeating-characters)

2. [æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå®šé•¿æ»‘çª—ã€‚æšä¸¾ s çš„æ‰€æœ‰é•¿ä¸º n çš„å­ä¸² sâ€²ï¼Œå¦‚æœ sâ€²çš„æ¯ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°ï¼Œå’Œ p çš„æ¯ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°éƒ½ç›¸åŒï¼Œé‚£ä¹ˆ sâ€²æ˜¯ p çš„å¼‚ä½è¯ã€‚**

    ```python
    class Solution:
        def findAnagrams(self, s: str, p: str) -> List[int]:
            ans = []
            k = len(p)
            cnt1 = Counter(s[:k-1])
            cnt2 = Counter(p)
            for i, (out, in_) in enumerate(zip(s, s[k-1:])):
                cnt1[in_] += 1
                if cnt1 == cnt2:
                    ans.append(i)
                cnt1[out] -= 1
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(m + n)ï¼Œå…¶ä¸­ m ä¸º s çš„é•¿åº¦ï¼Œn ä¸º p çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ï¼Œæ€»å…±26ä¸ªå­—æ¯çš„å‡ºç°æ¬¡æ•°ã€‚

## å››ã€å­ä¸²

1. [åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜](https://leetcode.cn/problems/range-sum-query-immutable/description/)ï¼š

    **å‰ç½®çŸ¥è¯†ï¼šå‰ç¼€å’Œã€‚**

    **å…³é”®æ€è·¯ï¼šs[i] è¡¨ç¤º nums ä¸­å‰ i - 1 ä¸ªå…ƒç´ çš„å’Œï¼Œé‚£ä¹ˆ[left, right]ä¹‹é—´å…ƒç´ çš„å’Œå°±æ˜¯s[right + 1] - s[left]**

    ```python
    class NumArray:

        def __init__(self, nums: List[int]):
            s = [0] * (len(nums) + 1)
            for i, x in enumerate(nums):
                s[i + 1] = s[i] + x
            self.s = s

        def sumRange(self, left: int, right: int) -> int:
            return self.s[right + 1] - self.s[left]
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

    ä¾‹å­ï¼š
    nums [i] = [-2, 0, 3, -5, 2, -1]

    åˆ™å¯ä»¥å¾—åˆ° s [i] = [0, -2, -2, 1, -4, -2, -3]

    ![alt text](../img/image-70.png)

2. [å’Œä¸º K çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-sum-equals-k/description/)ï¼š

3. [æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.cn/problems/sliding-window-maximum/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šåŒç«¯é˜Ÿåˆ—ã€‚ç»´æŠ¤ä¸€ä¸ªå•è°ƒé€’å‡çš„é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­å­˜å‚¨çš„æ˜¯ nums çš„ä¸‹æ ‡ã€‚**

    ```python
    class Solution:
        def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
            ans = []
            q = deque()      # ä¿å­˜ nums çš„ä¸‹æ ‡
            for i, x in enumerate(nums):
                # 1. å³è¾¹å…¥
                while q and nums[q[-1]] <= x:
                    q.pop()  # ç»´æŠ¤ q çš„å•è°ƒæ€§
                q.append(i)
                # 2. å·¦è¾¹å‡º
                if i - q[0] >= k:
                    q.popleft()
                # 3. æ›´æ–°ç­”æ¡ˆ
                if i >= k - 1:
                    ans.append(nums[q[0]])
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚ç”±äºæ¯ä¸ªä¸‹æ ‡è‡³å¤šå…¥é˜Ÿå‡ºé˜Ÿå„ä¸€æ¬¡ï¼Œæ‰€ä»¥äºŒé‡å¾ªç¯çš„å¾ªç¯æ¬¡æ•°æ˜¯ O(n) çš„ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(min(k,U))ï¼Œå…¶ä¸­ U æ˜¯ nums ä¸­çš„ä¸åŒå…ƒç´ ä¸ªæ•°ï¼ˆæœ¬é¢˜è‡³å¤šä¸º 20001ï¼‰ã€‚åŒç«¯é˜Ÿåˆ—è‡³å¤šæœ‰ k ä¸ªå…ƒç´ ï¼ŒåŒæ—¶åˆæ²¡æœ‰é‡å¤å…ƒç´ ï¼Œæ‰€ä»¥ä¹Ÿè‡³å¤šæœ‰ U ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º O(min(k,U))ã€‚è¿”å›å€¼çš„ç©ºé—´ä¸è®¡å…¥ã€‚

    deque çš„æ“ä½œï¼š

    ![alt text](../img/image-71.png){ width="380" }

4. [æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/description/):

    **å…³é”®æ€è·¯ï¼šæ»‘åŠ¨çª—å£ã€‚**

    ```python
    class Solution:
        def minWindow(self, s: str, t: str) -> str:
            cnt_s = Counter()
            cnt_t = Counter(t)
            ans_left, ans_right = -1, len(s)
            left = 0
            for right, c in enumerate(s):
                cnt_s[c] += 1
                while cnt_s >= cnt_t:                        # æ¶µç›–
                    if right - left < ans_right - ans_left:
                        ans_left, ans_right = left, right    # æ‰¾åˆ°æ›´çŸ­çš„å­ä¸²
                    cnt_s[s[left]] -= 1
                    left += 1
            return "" if ans_left < 0 else s[ans_left : ans_right + 1]
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(âˆ£Î£âˆ£m+n)ï¼Œå…¶ä¸­ m ä¸º s çš„é•¿åº¦ï¼Œn ä¸º t çš„é•¿åº¦ï¼Œâˆ£Î£âˆ£ ä¸ºå­—ç¬¦é›†åˆçš„å¤§å°ï¼Œæœ¬é¢˜å­—ç¬¦å‡ä¸ºè‹±æ–‡å­—æ¯ï¼Œæ‰€ä»¥ âˆ£Î£âˆ£=52ã€‚æ³¨æ„ left åªä¼šå¢åŠ ä¸ä¼šå‡å°‘ï¼Œleft æ¯å¢åŠ ä¸€æ¬¡ï¼Œæˆ‘ä»¬å°±èŠ±è´¹ O(âˆ£Î£âˆ£) çš„æ—¶é—´ã€‚å› ä¸º left è‡³å¤šå¢åŠ  m æ¬¡ï¼Œæ‰€ä»¥äºŒé‡å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦ä¸º O(âˆ£Î£âˆ£m)ï¼Œå†ç®—ä¸Šç»Ÿè®¡ t å­—æ¯å‡ºç°æ¬¡æ•°çš„æ—¶é—´ O(n)ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º O(âˆ£Î£âˆ£m+n)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(âˆ£Î£âˆ£)ã€‚

## äº”ã€æ™®é€šæ•°ç»„

1. [æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.cn/problems/maximum-subarray/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå½“ç´¯è®¡å’Œ s å°äºç­‰äº 0 æ—¶ï¼Œè¯´æ˜å½“å‰å­æ•°ç»„çš„å’Œå¯¹åç»­å­æ•°ç»„çš„å’Œæ²¡æœ‰è´¡çŒ®ï¼Œæ‰€ä»¥å¯ä»¥ä»ä¸‹ä¸€ä¸ªå…ƒç´ å¼€å§‹é‡æ–°è®¡ç®—å­æ•°ç»„çš„å’Œã€‚**

    ```python
    class Solution:
        def maxSubArray(self, nums: List[int]) -> int:
            ans = s = 0
            for n in nums:
                s += n
                if s <= 0:
                    s = 0
                else:
                    ans = max(ans, s)
            return ans or max(nums) # è‹¥ ans ä¸º 0ï¼Œè¯´æ˜ nums ä¸­æ‰€æœ‰å…ƒç´ å‡ä¸ºè´Ÿæ•°ï¼Œè¿”å› nums ä¸­çš„æœ€å¤§å€¼
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

2. [åˆå¹¶åŒºé—´](https://leetcode.cn/problems/merge-intervals/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šæŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºåï¼Œéå† intervalsï¼Œåˆå¹¶å¹¶æ›´æ–°å³ç«¯ç‚¹æœ€å¤§å€¼ã€‚**

    ```python
    class Solution:
        def merge(self, intervals: List[List[int]]) -> List[List[int]]:
            intervals.sort(key = lambda p: p[0])       # æŒ‰ç…§å·¦ç«¯ç‚¹ä»å°åˆ°å¤§æ’åº
            ans = []
            for p in intervals:
                if ans and ans[-1][1] >= p[0]:         # å¯ä»¥åˆå¹¶
                    ans[-1][1] = max(ans[-1][1], p[1]) # æ›´æ–°å³ç«¯ç‚¹æœ€å¤§å€¼
                else:                                  # ä¸ç›¸äº¤ï¼Œæ— æ³•åˆå¹¶
                    ans.append(p)                      # æ–°çš„åˆå¹¶åŒºé—´
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œå…¶ä¸­ n æ˜¯ intervals çš„é•¿åº¦ã€‚ç“¶é¢ˆåœ¨æ’åºä¸Šã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

3. [è½®è½¬æ•°ç»„](https://leetcode.cn/problems/rotate-array/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå…ˆå°†æ•´ä¸ªæ•°ç»„ç¿»è½¬ï¼Œç„¶åå°†å‰ k ä¸ªå…ƒç´ ç¿»è½¬ï¼Œå†å°†å n-k ä¸ªå…ƒç´ ç¿»è½¬ã€‚**

    ```python
    class Solution:
        def rotate(self, nums: List[int], k: int) -> None:
            def reverse(i: int, j: int) -> None:
                while i < j:
                    nums[i], nums[j] = nums[j], nums[i]
                    i += 1
                    j -= 1
            n = len(nums)
            k = k % n
            reverse(0, n - 1)
            reverse(0, k - 1)
            reverse(k, n - 1)
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

    ![alt text](../img/image-72.png){ width="350" }

4. [é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯](https://leetcode.cn/problems/product-of-array-except-self/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå…ˆä»å³åˆ°å·¦éå† numsï¼Œè®¡ç®—åç¼€ç§¯ï¼Œå†ä»å·¦åˆ°å³éå† numsï¼Œè®¡ç®—å‰ç¼€ç§¯ï¼Œæœ€åå°†å‰ç¼€ç§¯å’Œåç¼€ç§¯ç›¸ä¹˜å³å¯ã€‚**

    ```python
    class Solution:
        def productExceptSelf(self, nums: List[int]) -> List[int]:
            n = len(nums)
            suf = [1] * n  # åç¼€ç§¯: suf[i] è¡¨ç¤º nums[i + 1] åˆ° nums[-1] çš„å…ƒç´ ä¹˜ç§¯ 
            for i in range(n - 2, -1, -1):
                suf[i] = nums[i + 1] * suf[i + 1]
            pre = 1        # å‰ç¼€ç§¯: pre[i] è¡¨ç¤º nums[0] åˆ° nums[i - 1] çš„å…ƒç´ ä¹˜ç§¯ï¼Œä¸ºäº†èŠ‚çœéå†æ—¶é—´å’Œç©ºé—´ï¼Œè¿™é‡Œè¾¹éå†è¾¹æ›´æ–°pre
            for i, x in enumerate(nums):
                suf[i] *= pre
                pre *= x
            return suf
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚è¿”å›å€¼ä¸è®¡å…¥ã€‚

    ![alt text](../img/image-73.png){ width="200" }

## å…­ã€çŸ©é˜µ

1. [çŸ©é˜µç½®é›¶](https://leetcode.cn/problems/set-matrix-zeroes/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šç”¨ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«è®°å½•å“ªäº›è¡Œå’Œå“ªäº›åˆ—éœ€è¦ç½®é›¶ï¼Œæœ€åæ ¹æ®è¿™ä¸¤ä¸ªæ•°ç»„ç½®é›¶å³å¯ã€‚**

    ```python
    class Solution:
        def setZeroes(self, matrix: List[List[int]]) -> None:
            m, n = len(matrix), len(matrix[0])
            row, col = [False] * m, [False] * n

            for i in range(m):
                for j in range(n):
                    if matrix[i][j] == 0:
                        row[i] = col[j] = True

            for i in range(m):
                for j in range(n):
                    if row[i] or col[j]:
                        matrix[i][j] = 0
                
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(mn)ï¼Œå…¶ä¸­ m ä¸º matrix çš„è¡Œæ•°ï¼Œn ä¸º matrix çš„åˆ—æ•°ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(m+n)ã€‚

2. [èºæ—‹çŸ©é˜µ](https://leetcode.cn/problems/spiral-matrix/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå®šä¹‰æ–¹å‘æ•°ç»„ï¼Œæ±‚æ¨¡è½¬å¼¯ã€‚**

    ```python
    class Solution:
        def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
            DIRS = [(0, 1), (1, 0), (0, -1), (-1, 0)] # è¡¨ç¤º å³ä¸‹å·¦ä¸Š å››ä¸ªæ–¹å‘
            # å¾€å³èµ°ï¼šè¡Œå·ä¸åŠ¨ï¼Œåˆ—å· +1ï¼›å¾€ä¸‹èµ°ï¼šè¡Œå· +1ï¼Œåˆ—å·ä¸åŠ¨
            # å¾€å·¦èµ°ï¼šè¡Œå·ä¸åŠ¨ï¼Œåˆ—å· -1ï¼›å¾€ä¸Šèµ°ï¼šè¡Œå· -1ï¼Œåˆ—å·ä¸åŠ¨
            ans = []
            m, n = len(matrix), len(matrix[0])
            i = j = di = 0 # i å’Œ j è¡¨ç¤ºæ­£åœ¨è®¿é—®çš„çŸ©é˜µçš„è¡Œå’Œåˆ—ï¼Œdi è¡¨ç¤ºå½“å‰çš„æ–¹å‘
                        # di = 0 : å³, di = 1 : ä¸‹, di = 2 : å·¦, di = 3 : ä¸Š
            for _ in range(m * n):         # ä¸€å…±èµ° mn æ­¥
                ans.append(matrix[i][j])
                matrix[i][j] = None        # æ ‡è®°ï¼Œè¡¨ç¤ºå·²ç»è®¿é—®è¿‡ï¼ˆå·²ç»åŠ å…¥ç­”æ¡ˆï¼‰
                x = i + DIRS[di][0]        # x å’Œ y è¡¨ç¤ºä¸‹ä¸€æ­¥è¦è®¿é—®çš„çŸ©é˜µçš„è¡Œå’Œåˆ—
                y = j + DIRS[di][1]
                if x < 0 or x >= m or y < 0 or y >= n or matrix[x][y] is None:
                    di = (di + 1) % 4      # å¦‚æœä¸‹ä¸€æ­¥è¦è®¿é—®çš„çŸ©é˜µçš„ä½ç½®å‡ºç•Œæˆ–å·²ç»è®¿é—®è¿‡ï¼Œå³è½¬90Â°
                i += DIRS[di][0]           # å¾€å‰èµ°ä¸€æ­¥
                j += DIRS[di][1]
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(mn)ï¼Œå…¶ä¸­ m ä¸º matrix çš„è¡Œæ•°ï¼Œn ä¸º matrix çš„åˆ—æ•°ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚è¿”å›å€¼ä¸è®¡å…¥ã€‚

3. [æ—‹è½¬å›¾åƒ](https://leetcode.cn/problems/rotate-image/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå…ˆå°†çŸ©é˜µè½¬ç½®ï¼Œå†å°†æ¯ä¸€è¡Œç¿»è½¬å³å¯ã€‚**

    \[
    \begin{bmatrix}
    1 & 2 & 3 \\
    4 & 5 & 6 \\
    7 & 8 & 9
    \end{bmatrix}
    \xrightarrow{\text{è½¬ç½®}}
    \begin{bmatrix}
    1 & 4 & 7 \\
    2 & 5 & 8 \\
    3 & 6 & 9
    \end{bmatrix}
    \xrightarrow{\text{è¡Œç¿»è½¬}}
    \begin{bmatrix}
    7 & 4 & 1 \\
    8 & 5 & 2 \\
    9 & 6 & 3
    \end{bmatrix}
    \]


    ```python
    class Solution:
        def rotate(self, matrix: List[List[int]]) -> None:
            n = len(matrix)
            # ç¬¬ä¸€æ­¥ï¼šè½¬ç½®
            for i in range(n):
                for j in range(i): # åªåˆ° i è€Œä¸æ˜¯ n æ˜¯å› ä¸ºåªéœ€è¦éå†å¯¹è§’çº¿ä¸‹æ–¹å…ƒç´ 
                    matrix[i][j], matrix[j][i] = matrix[j][i], matrix[i][j]
            # ç¬¬äºŒæ­¥ï¼šè¡Œç¿»è½¬
            for row in matrix:
                row.reverse()
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œå…¶ä¸­ n ä¸º matrix çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

4. [æœç´¢äºŒç»´çŸ©é˜µ II](https://leetcode.cn/problems/search-a-2d-matrix-ii/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä»çŸ©é˜µçš„å³ä¸Šè§’å¼€å§‹æœç´¢ï¼Œå¦‚æœå½“å‰å…ƒç´ å¤§äº targetï¼Œåˆ™å‘å·¦ç§»åŠ¨ï¼›å¦‚æœå½“å‰å…ƒç´ å°äº targetï¼Œåˆ™å‘ä¸‹ç§»åŠ¨ã€‚**

    ```python
    class Solution:
        def searchMatrix(self, matrix: List[List[int]], target: int) -> bool:
            m, n = len(matrix), len(matrix[0])
            i, j = 0, n - 1                 # ä»å³ä¸Šè§’å¼€å§‹æœç´¢
            while i < m and j >= 0:         # è¿˜æœ‰å‰©ä½™å…ƒç´ 
                if matrix[i][j] == target:  # æ‰¾åˆ° target
                    return True
                elif matrix[i][j] < target: # è¿™ä¸€è¡Œå‰©ä½™å…ƒç´ å…¨éƒ¨å°äº targetï¼Œæ’é™¤
                    i += 1
                else:                       # è¿™ä¸€åˆ—å‰©ä½™å…ƒç´ å…¨éƒ¨å¤§äº targetï¼Œæ’é™¤
                    j -= 1
            return False
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(m+n)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«ä¸º matrix çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æ¯æ¬¡å¾ªç¯æ’é™¤æ‰ä¸€è¡Œæˆ–è€…ä¸€åˆ—ï¼Œä¸€å…± m+n è¡Œåˆ—ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦æ’é™¤ m+nâˆ’1 è¡Œåˆ—æ‰èƒ½æ‰¾åˆ°ç­”æ¡ˆã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## ä¸ƒã€é“¾è¡¨

1. [ç›¸äº¤é“¾è¡¨](https://leetcode.cn/problems/intersection-of-two-linked-lists/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå½“æˆ‘åœ¨æˆ‘çš„è·¯ä¸Šèµ°è¿‡ä¸€éä¾ç„¶æ²¡æœ‰é‡è§ä½ æ—¶ï¼Œé‚£ä¹ˆæˆ‘ä¼šæ¥ç€æ¥åˆ°ä½ èµ°è¿‡çš„è·¯èµ°ä¸€éï¼Œå¦‚æœæˆ‘ä»¬å¿ƒæœ‰çµçŠ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»ˆå°†ç›¸é‡ã€‚**

    **æ³¨æ„é¢˜ç›®è¦æ±‚æ˜¯ä¸¤ä¸ªæŒ‡é’ˆå®Œå…¨ç›¸åŒæ‰æ˜¯ç›¸äº¤ï¼Œå¹¶ä¸æ˜¯ä»…ä»…valç›¸åŒ**

    ```python
    class Solution:
        def getIntersectionNode(self, headA: ListNode, headB: ListNode) -> Optional[ListNode]:
            pA, pB = headA, headB
            while pA != pB:
                pA = pA.next if pA else headB # å¦‚æœ pA éå†åˆ°äº† Noneï¼Œå°±ä» headB å¼€å§‹éå†
                pB = pB.next if pB else headA # å¦‚æœ pB éå†åˆ°äº† Noneï¼Œå°±ä» headA å¼€å§‹éå†
            return pA
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(m+n)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«ä¸ºé“¾è¡¨ headA å’Œ headB çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## å…«ã€äºŒå‰æ ‘

1. 

2. [äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦](https://leetcode.cn/problems/maximum-depth-of-binary-tree/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šé€’å½’åœ°è®¡ç®—å·¦å­æ ‘å’Œå³å­æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œå–è¾ƒå¤§å€¼åŠ  1 å³å¯ã€‚**

    ```python
    class Solution:
        def maxDepth(self, root: Optional[TreeNode]) -> int:
            if root is None:
                return 0
            l_depth = self.maxDepth(root.left)
            r_depth = self.maxDepth(root.right)
            return max(l_depth, r_depth) + 1
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚æœ€åæƒ…å†µä¸‹ï¼ŒäºŒå‰æ ‘é€€åŒ–æˆä¸€æ¡é“¾ï¼Œé€’å½’éœ€è¦ O(n) çš„æ ˆç©ºé—´ã€‚

    ![alt text](../img/image-76.png)

## ä¹ã€å›¾è®º

1. [å²›å±¿æ•°é‡](https://leetcode.cn/problems/number-of-islands/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šéå†çŸ©é˜µæ‰¾åˆ°æœªè®¿é—®è¿‡çš„å²›å±¿'1' â†’ ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰éå†è¯¥å²›å±¿ï¼ŒæŠŠè¿™ä¸ªå²›æ’æ»¡(æ›¿æ¢)æ ‡å¿—ä¸º '2' çš„æ——å­æ¥è¡¨ç¤ºè¯¥å²›å±¿è¢«è®¿é—®è¿‡ â†’ ans += 1ã€‚**

    ```python
    class Solution:
        def numIslands(self, grid: List[List[str]]) -> int:
            ans = 0
            m, n = len(grid), len(grid[0])

            def dfs(i: int, j: int) -> None:
                if i < 0 or i >= m or j < 0 or j >= n or grid[i][j] != '1':
                    return               # å‡ºç•Œï¼Œæˆ–è€…ä¸æ˜¯ '1'ï¼Œå°±ä¸å†å¾€ä¸‹é€’å½’
                grid[i][j] = '2'         # æ’æ——ï¼Œé¿å…æ¥å›æ¨ªè·³æ— é™é€’å½’
                dfs(i, j + 1)            # å¾€å››ä¸ªæ–¹å‘èµ°
                dfs(i, j - 1)
                dfs(i - 1, j)
                dfs(i + 1, j)

            for i, row in enumerate(grid):
                for j, col in enumerate(row):
                    if grid[i][j] == '1': # æ‰¾åˆ°äº†ä¸€ä¸ªæ–°çš„å²›
                        dfs(i, j)         # æŠŠè¿™ä¸ªå²›æ’æ»¡(æ›¿æ¢)æ ‡å¿—ä¸º '2' çš„æ——å­ï¼Œè¿™æ ·åé¢éå†åˆ°çš„ '1' ä¸€å®šæ˜¯æ–°çš„å²›
                        ans += 1
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(mn)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«ä¸º grid çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æ¯ä¸ªå…ƒç´ æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(mn)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«ä¸º grid çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ä¸»è¦æ˜¯é€’å½’è°ƒç”¨æ ˆçš„ç©ºé—´ã€‚

2. [è…çƒ‚çš„æ©˜å­](https://leetcode.cn/problems/rotting-oranges/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰éå†çŸ©é˜µï¼Œæ¯æ¬¡å°†æ–°è…çƒ‚çš„æ©˜å­åŠ å…¥ bad åˆ—è¡¨ã€‚**

    ```python
    class Solution:
        def orangesRotting(self, grid: List[List[int]]) -> int:
            m, n = len(grid), len(grid[0])
            fresh = 0
            bad = []
            for i, row in enumerate(grid):
                for j, col in enumerate(row):
                    if grid[i][j] == 1:
                        fresh += 1            # ç»Ÿè®¡æ–°é²œæ©˜å­ä¸ªæ•°
                    elif grid[i][j] == 2:
                        bad.append((i, j))    # ä¸€å¼€å§‹å°±è…çƒ‚çš„æ©˜å­
            
            ans = 0
            while fresh and bad:
                ans += 1                      # ç»è¿‡ä¸€åˆ†é’Ÿ
                tmp = bad
                bad = []
                for x, y in tmp:              # è…çƒ‚çš„æ©˜å­å»æ„ŸæŸ“å®ƒä¸Šä¸‹å·¦å³çš„æ©˜å­
                    for i, j in (x - 1, y), (x + 1, y), (x, y - 1), (x, y + 1):
                        if 0 <= i < m and 0 <= j < n and grid[i][j] == 1:
                            fresh -= 1
                            grid[i][j] = 2
                            bad.append((i, j)) # æ–°è…çƒ‚çš„æ©˜å­
            return -1 if fresh else ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(mn)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«ä¸º grid çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æ¯ä¸ªå…ƒç´ æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(mn)ï¼Œå…¶ä¸­ m å’Œ n åˆ†åˆ«ä¸º grid çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚ä¸»è¦æ˜¯ bad åˆ—è¡¨çš„ç©ºé—´ã€‚

3. 

4. [å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode.cn/problems/implement-trie-prefix-tree/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä½¿ç”¨äºŒåå…­å‰æ ‘(26ä¸ªå­—æ¯)æ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°æŸä¸ªèŠ‚ç‚¹çš„è·¯å¾„è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚**

    ```python
    class Node:
        __slots__ = 'son', 'end'        # è¡¨ç¤º Node å®ä¾‹åªèƒ½æœ‰ son å’Œ end è¿™ä¸¤ä¸ªå±æ€§ï¼Œä¸èƒ½åŠ¨æ€æ·»åŠ å…¶ä»–å±æ€§

        def __init__(self):
            self.son = {}
            self.end = False

    class Trie:
        def __init__(self):
            self.root = Node()

        def insert(self, word: str) -> None:
            cur = self.root
            for c in word:
                if c not in cur.son:     # æ— è·¯å¯èµ°ï¼Ÿ
                    cur.son[c] = Node()  # é‚£å°±é€ è·¯ï¼
                cur = cur.son[c]
            cur.end = True

        def find(self, word: str) -> int:
            cur = self.root
            for c in word:
                if c not in cur.son:     # é“ä¸åŒï¼Œä¸ç›¸ä¸ºè°‹
                    return 0
                cur = cur.son[c]
            # èµ°è¿‡åŒæ ·çš„è·¯ï¼ˆ2 = å®Œå…¨åŒ¹é…ï¼Œ1 = å‰ç¼€åŒ¹é…ï¼‰
            return 2 if cur.end else 1

        def search(self, word: str) -> bool:
            return self.find(word) == 2

        def startsWith(self, prefix: str) -> bool:
            return self.find(prefix) != 0
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šåˆå§‹åŒ–ä¸º O(1)ï¼Œinsert ä¸º O(nâˆ£Î£âˆ£)ï¼Œå…¶ä½™ä¸º O(n)ï¼Œå…¶ä¸­ n æ˜¯ word çš„é•¿åº¦ï¼Œâˆ£Î£âˆ£=26 æ˜¯å­—ç¬¦é›†åˆçš„å¤§å°ã€‚æ³¨æ„åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹éœ€è¦ O(âˆ£Î£âˆ£) çš„æ—¶é—´ï¼ˆå¦‚æœç”¨çš„æ˜¯æ•°ç»„ï¼‰ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(qnâˆ£Î£âˆ£)ã€‚å…¶ä¸­ q æ˜¯ insert çš„è°ƒç”¨æ¬¡æ•°ã€‚

## åã€å›æº¯

> append å’Œ pop å¸¸å¸¸æˆå¯¹å‡ºç°ï¼Œåˆ†ä¸º å­é›†å‹ã€ç»„åˆå‹ã€æ’åˆ—å‹ å›æº¯ã€‚

> åˆ†æå›æº¯é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ‰ä¸€ä¸ªç®€æ˜“å…¬å¼ï¼šè·¯å¾„é•¿åº¦Ã—æœç´¢æ ‘çš„å¶å­æ•°ï¼Œi.e.æ€»å…±æœç´¢äº†å¶å­æ•°ä¸ªè·¯å¾„ï¼Œæ¯æ¬¡éƒ½è¦å°†è·¯å¾„é•¿åº¦ä¸ºlen(path)çš„pathåŠ å…¥ç­”æ¡ˆã€‚

> ä¸¤ç§åŸºæœ¬å›æº¯æ€æƒ³ï¼šç«™åœ¨ç­”æ¡ˆè§’åº¦ - æšä¸¾é€‰å“ªä¸ª / ç«™åœ¨è¾“å…¥è§’åº¦ - é€‰æˆ–ä¸é€‰ 

1. [ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä½¿ç”¨å›æº¯ç®—æ³•ï¼Œæšä¸¾æ‰€æœ‰å¯èƒ½çš„å­—æ¯ç»„åˆã€‚**

    ```python
    class Solution:
        def letterCombinations(self, digits: str) -> List[str]:
            MAPPING = ["", "", "abc", "def", "ghi", "jkl", "mno", "pqrs", "tuv", "wxyz"]
            ans = []
            n = len(digits)
            if n == 0:
                return ans

            path = [''] * n                       # æ³¨æ„ path é•¿åº¦ä¸€å¼€å§‹å°±æ˜¯ nï¼Œä¸æ˜¯ç©ºåˆ—è¡¨
            def dfs(i: int) -> None:
                if i == n:
                    ans.append(''.join(path))     # å°† path è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶åŠ å…¥ç­”æ¡ˆï¼Œä¾‹å¦‚ ['a', 'd'] -> 'ad'
                    return
                for c in MAPPING[int(digits[i])]:
                    path[i] = c                   # ç›´æ¥è¦†ç›–ï¼Œæ‰€ä»¥ä¸éœ€è¦ pop
                    dfs(i + 1)

            dfs(0)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n * 4^n)ï¼Œå…¶ä¸­ n ä¸º digits çš„é•¿åº¦ã€‚æœ€åæƒ…å†µä¸‹æ¯æ¬¡éœ€è¦æšä¸¾ 4 ä¸ªå­—æ¯ï¼Œé€’å½’æ¬¡æ•°ä¸ºä¸€ä¸ªæ»¡å››å‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œé‚£ä¹ˆä¸€å…±ä¼šé€’å½’ O(4^n) æ¬¡ï¼ˆç­‰æ¯”æ•°åˆ—å’Œï¼‰ï¼Œå†ç®—ä¸ŠåŠ å…¥ç­”æ¡ˆæ—¶å¤åˆ¶ path éœ€è¦ O(n) çš„æ—¶é—´ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n * 4^n)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚è¿”å›å€¼çš„ç©ºé—´ä¸è®¡å…¥ã€‚

    ![alt text](../img/image-77.png)

2. [å­é›†](https://leetcode.cn/problems/subsets/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå­é›†å‹å›æº¯ï¼Œæšä¸¾ç¬¬ä¸€ä¸ªæ•°é€‰è°ï¼Œç¬¬äºŒä¸ªæ•°é€‰è°...**

    ```python
    class Solution:
        def subsets(self, nums: List[int]) -> List[List[int]]:
            n = len(nums)
            ans = []
            path = []

            def dfs(i: int) -> None:
                ans.append(path.copy())  # å¤åˆ¶ pathï¼Œä¹Ÿå¯ä»¥å†™ path[:]ã€‚å› ä¸º path ä¼šä¸€ç›´å˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦å¤åˆ¶ä¸€ä»½
                for j in range(i, n):    # æšä¸¾é€‰æ‹©çš„æ•°å­—
                    path.append(nums[j])
                    dfs(j + 1)
                    path.pop()           # æ¢å¤ç°åœº

            dfs(0)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n * 2^n)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚ç­”æ¡ˆçš„é•¿åº¦ä¸ºå­é›†çš„ä¸ªæ•°ï¼Œå³ 2^nï¼ŒåŒæ—¶æ¯æ¬¡é€’å½’éƒ½æŠŠä¸€ä¸ªæ•°ç»„æ”¾å…¥ç­”æ¡ˆï¼Œå› æ­¤ä¼šé€’å½’ 2^næ¬¡ï¼Œå†ç®—ä¸ŠåŠ å…¥ç­”æ¡ˆæ—¶å¤åˆ¶ path éœ€è¦ O(n) çš„æ—¶é—´ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n * 2^n)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚è¿”å›å€¼çš„ç©ºé—´ä¸è®¡ã€‚

    ![alt text](../img/image-79.png)

3. [åˆ†å‰²å›æ–‡ä¸²](https://leetcode.cn/problems/palindrome-partitioning/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šæšä¸¾å­ä¸²ç»“æŸä½ç½®**

    ```python
    class Solution:
        def partition(self, s: str) -> List[List[str]]:
            n = len(s)
            ans = []
            path = []

            def dfs(i: int) -> None:         # è€ƒè™‘ s[i:] æ€ä¹ˆåˆ†å‰²
                if i == n:                   # s åˆ†å‰²å®Œæ¯•
                    ans.append(path.copy())  # å¤åˆ¶ path
                    return
                for j in range(i, n):        # æšä¸¾å­ä¸²çš„ç»“æŸä½ç½®
                    t = s[i: j + 1]          # åˆ†å‰²å‡ºå­ä¸² t
                    if t == t[::-1]:         # åˆ¤æ–­ t æ˜¯ä¸æ˜¯å›æ–‡ä¸²
                        path.append(t)
                        dfs(j + 1)           # è€ƒè™‘å‰©ä½™çš„ s[j+1:] æ€ä¹ˆåˆ†å‰²
                        path.pop()           # æ¢å¤ç°åœº

            dfs(0)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n * 2^n)ï¼Œå…¶ä¸­ n ä¸º s çš„é•¿åº¦ã€‚ç­”æ¡ˆçš„é•¿åº¦è‡³å¤šä¸ºé€—å·å­é›†çš„ä¸ªæ•°ï¼Œå³ O(2^n)ï¼Œå› æ­¤ä¼šé€’å½’ O(2^n) æ¬¡ï¼Œå†ç®—ä¸Šåˆ¤æ–­å›æ–‡å’ŒåŠ å…¥ç­”æ¡ˆæ—¶éœ€è¦ O(n) çš„æ—¶é—´ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(n * 2^n)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚è¿”å›å€¼çš„ç©ºé—´ä¸è®¡ã€‚

4. [ç»„åˆ](https://leetcode.cn/problems/combinations/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šç»„åˆå‹å›æº¯ï¼Œæšä¸¾ä¸‹ä¸€ä¸ªæ•°é€‰å“ªä¸ª**

    ```python
    class Solution:
        def combine(self, n: int, k: int) -> List[List[int]]:
            ans = []
            path = []

            def dfs(i: int) -> None:
                if i < k - len(path):        # å‰ªæï¼Œæ­¤æ—¶è¿˜å‰©ä¸‹ k - len(path) ä¸ªæ•°è¦é€‰
                    return                   # ä½† i å·²ç»å°äºäº†ï¼Œæ²¡æœ‰å¯èƒ½èƒ½å†é€‰å‡ºè¿™ä¸ªç»„åˆäº†

                if len(path) == k:           # é€‰å¥½äº†
                    ans.append(path.copy())
                    return
                
                for j in range(i, 0, -1):    # æ³¨æ„é¢˜ç›®è¦æ±‚çš„æ˜¯[1, n]ä¸­çš„æ•°
                    path.append(j)
                    dfs(j - 1)               # å€’ç€æšä¸¾æ˜¯ä¸ºäº†æ›´æ–¹ä¾¿åœ°å‰ªæ
                    path.pop()
                    
            dfs(n)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šåˆ†æå›æº¯é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ‰ä¸€ä¸ªç®€æ˜“å…¬å¼ï¼šè·¯å¾„é•¿åº¦Ã—æœç´¢æ ‘çš„å¶å­æ•°ã€‚å¯¹äºæœ¬é¢˜ï¼Œè·¯å¾„é•¿åº¦å§‹ç»ˆä¸º kï¼Œå¶å­ä¸ªæ•°ä¸º C(n,k)ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(k * C(n,k))ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(k)ã€‚è¿”å›å€¼ä¸è®¡å…¥ã€‚

5. [ç»„åˆæ€»å’Œ III](https://leetcode.cn/problems/combination-sum-iii/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šå’Œä¸Šé¢˜ä¸€æ ·ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªé™„åŠ è¦æ±‚ï¼Œé€‰å‡ºæ¥çš„ k ä¸ªæ•°å’Œä¸º n**

    ```python
    class Solution:
        def combinationSum3(self, k: int, n: int) -> List[List[int]]:
            ans = []
            path = []

            def dfs(i: int, t: int) -> None: # t ä¸º targetï¼Œå³æ€»å’Œ

                # å‰ªæ
                # case 1: æ­¤æ—¶è¿˜å‰©ä¸‹ d ä¸ªæ•°è¦é€‰ï¼Œä½† i å·²ç»å°äº d äº†ï¼Œæ²¡æœ‰å¯èƒ½èƒ½å†é€‰å‡ºè¿™ä¸ªç»„åˆäº†
                # case 2: æ‰€é€‰æ•°ä¹‹å’Œå·²ç»è¶…è¿‡ n äº†ï¼Œæ²¡å¿…è¦ç»§ç»­é€’å½’äº†ã€‚i.e. t < 0
                # case 3: å‰©ä½™æ•°å­—å³ä½¿å…¨éƒ¨é€‰æœ€å¤§çš„ï¼Œå’Œä¹Ÿä¸å¤Ÿ tã€‚ä¾‹å¦‚ i = 5, è¿˜éœ€é€‰ d = 3ä¸ªæ•°ï¼Œé‚£ä¹ˆå¦‚æœ
                # t > 5 + 4 + 3åˆ™å¯ä»¥ç›´æ¥return: t > i + ... + (i - d + 1) = (i + i - d + 1) * d // 2
                d = k - len(path)
                if i < d or t < 0 or t > (i * 2 - d + 1) * d // 2:
                    return

                if len(path) == k:           # é€‰å¥½äº†ï¼Œæ³¨æ„æ­¤æ—¶ä¸ç”¨åˆ¤æ–­t == 0ï¼Œå› ä¸ºèµ°åˆ°è¿™é‡Œ d æ˜¯ 0
                    ans.append(path.copy())  # æ­¤æ—¶ä¸Šé¢çš„å‰ªæçš„å³è¾¹ä¸¤ä¸ªåˆ¤æ–­æ¶µç›–äº† t < 0 or t > 0
                    return                   # å› æ­¤èµ°åˆ°è¿™é‡Œæ—¶ä¸€å®šæœ‰ t == 0
                
                for j in range(i, 0, -1):    # æ³¨æ„é¢˜ç›®è¦æ±‚çš„æ˜¯[1, 9]ä¸­çš„æ•°
                    path.append(j)
                    dfs(j - 1, t - j)        # å€’ç€æšä¸¾æ˜¯ä¸ºäº†æ›´æ–¹ä¾¿åœ°å‰ªæï¼Œå·²ç»é€‰äº† jï¼Œæ€»å’Œè¿˜å‰©ä¸‹ t - j
                    path.pop()
                    
            dfs(9, n)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šåˆ†æå›æº¯é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ‰ä¸€ä¸ªç®€æ˜“å…¬å¼ï¼šè·¯å¾„é•¿åº¦Ã—æœç´¢æ ‘çš„å¶å­æ•°ã€‚å¯¹äºæœ¬é¢˜ï¼Œè·¯å¾„é•¿åº¦å§‹ç»ˆä¸º kï¼Œå¶å­ä¸ªæ•°ä¸º C(9,k)ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º O(kâ‹…C(9,k))ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(k)ã€‚è¿”å›å€¼ä¸è®¡å…¥ã€‚

6. [ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šæšä¸¾é€‰å“ªä¸ªã€‚**

    ```python
    class Solution:
        def combinationSum(self, candidates: List[int], target: int) -> List[List[int]]:
            candidates.sort()                # æ’åº
            ans = []
            path = []

            def dfs(i: int, t: int) -> None:
                if t == 0:
                    ans.append(path.copy())   # æ‰¾åˆ°ä¸€ä¸ªåˆæ³•ç»„åˆ
                    return

                # æšä¸¾é€‰å“ªä¸ª
                for j in range(i, len(candidates)):
                    if candidates[j] > t:     # æ’åºäº†ï¼Œåé¢çš„æ•°éƒ½å¤ªå¤§
                        break
                    path.append(candidates[j])
                    dfs(j, t - candidates[j]) # æ³¨æ„ï¼šç”±äºæ¯ä¸ªæ•°å¯ä»¥é€‰ä»»æ„æ¬¡ï¼Œå› æ­¤é€’å½’æ—¶ä»ä» j å¼€å§‹
                    path.pop()                # æ¢å¤ç°åœº

            dfs(0, target)
            return ans
    ```

7. [æ‹¬å·ç”Ÿæˆ](https://leetcode.cn/problems/generate-parentheses/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä» 2n ä¸ªä½ç½®ä¸­é€‰ n ä¸ªä½ç½®æ”¾å·¦æ‹¬å·ï¼Œå…¶ä»–ä½ç½®æ”¾å³æ‹¬å·ã€‚ç”¨é€‰æˆ–ä¸é€‰çš„æ€è·¯ï¼šå¯¹äºç¬¬ i ä¸ªä½ç½®ï¼Œé€‰å®ƒåˆ™æ”¾å·¦æ‹¬å·ï¼Œä¸é€‰å®ƒåˆ™æ”¾å³æ‹¬å·ã€‚**

    ```python
    class Solution:
        def generateParenthesis(self, n: int) -> List[str]:
            m = n * 2
            ans = []
            path = [''] * m

            def dfs(i: int, open: int) -> None:
                if i == m:                # i: å·¦å³æ‹¬å·ä¸ªæ•°æ€»å’Œï¼Œopen: å·¦æ‹¬å·çš„ä¸ªæ•°
                    ans.append(''.join(path))
                    return
                if open < n:              # å·¦æ‹¬å·ä¸ªæ•° < n, å¯ä»¥å†é€‰å·¦æ‹¬å·
                    path[i] = '('
                    dfs(i + 1, open + 1)
                if i - open < open:       # å³æ‹¬å·ä¸ªæ•° < å·¦æ‹¬å·ä¸ªæ•°ï¼Œå¯ä»¥å†é€‰å³æ‹¬å·
                    path[i] = ')'
                    dfs(i + 1, open)      # æ³¨æ„æ­¤æ—¶å·¦æ‹¬å·ä¸ªæ•°ä¾ç„¶ä¸º open
            
            dfs(0, 0)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šæ—¶é—´å¤æ‚åº¦ï¼šåˆ†æå›æº¯é—®é¢˜çš„æ—¶é—´å¤æ‚åº¦ï¼Œæœ‰ä¸€ä¸ªé€šç”¨å…¬å¼ï¼šè·¯å¾„é•¿åº¦Ã—æœç´¢æ ‘çš„å¶å­æ•°ã€‚å¯¹äºæœ¬é¢˜ï¼Œå®ƒç­‰äº O(n * C(2n,n))ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚è¿”å›å€¼ä¸è®¡å…¥ã€‚

8. [å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/description/):

    **å…³é”®æ€è·¯ï¼šæ’åˆ—å‹å›æº¯**

    ```python
    class Solution:
        def permute(self, nums: List[int]) -> List[List[int]]:
            n = len(nums)
            ans = []
            path = [0] * n
            on_path = [False] * n           # åªé€‰ä¸åœ¨è·¯å¾„ä¸­çš„æ•°ï¼Œå› ä¸ºè¿™æ˜¯æ’åˆ—é—®é¢˜
            def dfs(i: int) -> None:
                if i == n:
                    ans.append(path.copy())
                    return
                for j in range(n):
                    if not on_path[j]:
                        path[i] = nums[j]   # ä»æ²¡æœ‰é€‰çš„æ•°å­—ä¸­é€‰ä¸€ä¸ª
                        on_path[j] = True   # å·²é€‰ä¸Š
                        dfs(i + 1)
                        on_path[j] = False  # æ¢å¤ç°åœº
                        # æ³¨æ„ path æ— éœ€æ¢å¤ç°åœºï¼Œå› ä¸ºæ’åˆ—é•¿åº¦å›ºå®šï¼Œç›´æ¥è¦†ç›–å°±è¡Œ
            dfs(0)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(nâ‹…n!)ï¼Œå…¶ä¸­ n ä¸º nums çš„é•¿åº¦ã€‚æœ‰ O(n!) ä¸ªå¶èŠ‚ç‚¹ï¼Œæ¯ä¸ªå¶èŠ‚ç‚¹èŠ±è´¹ O(n) çš„æ—¶é—´å¤åˆ¶ path æ•°ç»„ï¼Œå› æ­¤æ—¶é—´å¤æ‚åº¦ä¸º O(nâ‹…n!)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚è¿”å›å€¼çš„ç©ºé—´ä¸è®¡å…¥ã€‚
    
## åä¸€ã€äºŒåˆ†æŸ¥æ‰¾

## åäºŒã€æ ˆ

## åä¸‰ã€å †

1. [æ•°ç»„ä¸­çš„ç¬¬Kä¸ªæœ€å¤§å…ƒç´ ](https://leetcode.cn/problems/kth-largest-element-in-an-array/description/)ï¼š

    ğŸ“Œ **è¿™ä¸ªç­”æ¡ˆä¸æ»¡è¶³é¢˜ç›®æ—¶é—´å¤æ‚åº¦ä¸º O(n)çš„è¦æ±‚ï¼Œåªæ˜¯ä¸ºäº†å­¦ä¹ æœ€å°å †çš„ç”¨æ³•ã€‚**

    ```python
    class Solution:
        def findKthLargest(self, nums: List[int], k: int) -> int:
            heap = []
            for x in nums:
                heapq.heappush(heap, x)
                if len(heap) > k:
                    heapq.heappop(heap)
            return heap[0]
    ```

    å¤æ‚åº¦åˆ†æï¼š 

    - æ—¶é—´å¤æ‚åº¦ï¼šO(nlogk)ã€‚éå† nums å…± n æ¬¡ï¼Œæ¯æ¬¡ heappush å’Œï¼ˆå¯èƒ½çš„ï¼‰heappop æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(logk)ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(k)ã€‚å †çš„æœ€å¤§å®¹é‡ä¸º k+1ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(k)ã€‚

2. [å‰ K ä¸ªé«˜é¢‘å…ƒç´ ](https://leetcode.cn/problems/top-k-frequent-elements/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä½¿ç”¨å“ˆå¸Œè¡¨ç»Ÿè®¡å…ƒç´ å‡ºç°çš„é¢‘ç‡ï¼Œç„¶åä½¿ç”¨æ¡¶æ’åºï¼ŒæŠŠå‡ºç°æ¬¡æ•°ç›¸åŒçš„å…ƒç´ ï¼Œæ”¾åˆ°åŒä¸€ä¸ªæ¡¶ä¸­ã€‚**

    ```python
    class Solution:
        def topKFrequent(self, nums: List[int], k: int) -> List[int]:
            # Step1ï¼šç»Ÿè®¡æ¯ä¸ªå…ƒç´ çš„å‡ºç°æ¬¡æ•°
            cnt = Counter(nums)
            max_cnt = max(cnt.values())

            # Step2ï¼šæŠŠå‡ºç°æ¬¡æ•°ç›¸åŒçš„å…ƒç´ ï¼Œæ”¾åˆ°åŒä¸€ä¸ªæ¡¶ä¸­
            buckets = [[] for _ in range(max_cnt + 1)]
            for key, value in cnt.items():
                buckets[value].append(key)
            
            # Step3ï¼šå€’åºéå† bucketsï¼ŒæŠŠå‡ºç°æ¬¡æ•°å‰ k å¤§çš„å…ƒç´ åŠ å…¥ç­”æ¡ˆ
            ans = []
            for bucket in reversed(buckets):
                ans += bucket
                if len(ans) == k:
                    return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

3. [æ•°æ®æµçš„ä¸­ä½æ•°](https://leetcode.cn/problems/find-median-from-data-stream/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä½¿ç”¨ä¸¤ä¸ªå †ï¼Œä¸€ä¸ªæœ€å¤§å †ï¼Œä¸€ä¸ªæœ€å°å †ã€‚æœ€å¤§å †ç”¨æ¥å­˜å‚¨è¾ƒå°çš„ä¸€åŠæ•°å­—ï¼Œæœ€å°å †ç”¨æ¥å­˜å‚¨è¾ƒå¤§çš„ä¸€åŠæ•°å­—ã€‚**

    ```python
    class MedianFinder:
        def __init__(self):
            self.left = []   # å…¥å †çš„å…ƒç´ å–ç›¸åæ•°ï¼Œå˜æˆæœ€å¤§å †
            self.right = []  # æœ€å°å †

        def addNum(self, num: int) -> None:
            if len(self.left) == len(self.right):
                heappush(self.left, -heappushpop(self.right, num))
            else:
                heappush(self.right, -heappushpop(self.left, -num))

        def findMedian(self) -> float:
            if len(self.left) > len(self.right):
                return -self.left[0]
            return (self.right[0] - self.left[0]) / 2
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šåˆå§‹åŒ–å’Œ findMedian éƒ½æ˜¯ O(1)ï¼ŒaddNum æ˜¯ O(logq)ï¼Œå…¶ä¸­ q æ˜¯ addNum çš„è°ƒç”¨æ¬¡æ•°ã€‚æ¯æ¬¡æ“ä½œå †éœ€è¦ O(logq) çš„æ—¶é—´ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(q)ã€‚

    > å †æ˜¯ä¸€ç§ç‰¹æ®Šçš„å®Œå…¨äºŒå‰æ ‘ï¼Œå…·æœ‰ä»¥ä¸‹é‡è¦ç‰¹æ€§ï¼š

    - å †åºæ€§ï¼š

        - æœ€å¤§å †ï¼ˆMax Heapï¼‰ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼
        - æœ€å°å †ï¼ˆMin Heapï¼‰ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼

    - å®Œå…¨äºŒå‰æ ‘æ€§è´¨ï¼š

        - é™¤äº†æœ€åä¸€å±‚ï¼Œå…¶ä»–å±‚éƒ½æ˜¯æ»¡çš„
        - æœ€åä¸€å±‚çš„èŠ‚ç‚¹éƒ½å°½é‡é å·¦æ’åˆ—

    > `heappush` å‡½æ•°å’Œ `heappushpop` å‡½æ•°çš„åŒºåˆ«ï¼š

    - `heappush` å‡½æ•°ï¼šå°†å…ƒç´ æ¨åˆ°å †ä¸­ï¼Œä¿æŒå †çš„æ€§è´¨ã€‚
    - `heappushpop` å‡½æ•°ï¼šå°†å…ƒç´ æ¨åˆ°å †ä¸­ï¼Œç„¶åå¼¹å‡ºå †é¡¶å…ƒç´ ï¼Œä¿æŒå †çš„æ€§è´¨ã€‚

    !!! note "trick"

        Python çš„ heapq æ¨¡å—åªæä¾›æœ€å°å †å®ç°ã€‚è¦å®ç°æœ€å¤§å †ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæŠ€å·§ï¼š

        - æœ€å°å †æ€§è´¨ï¼šå †é¡¶å…ƒç´ æ˜¯æœ€å°çš„
        - æœ€å¤§å †æŠ€å·§ï¼šå°†å…ƒç´ å–è´Ÿæ•°åæ”¾å…¥æœ€å°å †ï¼Œè¿™æ ·å †é¡¶çš„è´Ÿæ•°å¯¹åº”çš„æ­£æ•°å°±æ˜¯æœ€å¤§çš„

    ![alt text](../img/image-75.png){ width="350" }

## åå››ã€è´ªå¿ƒç®—æ³•

1. [ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šéå†æ•°ç»„ï¼Œè®°å½•å½“å‰ä½ç½®ä¹‹å‰çš„æœ€ä½ä»·æ ¼ï¼Œç„¶åç”¨å½“å‰ä»·æ ¼å‡å»æœ€ä½ä»·æ ¼ï¼Œæ›´æ–°æœ€å¤§åˆ©æ¶¦ã€‚**

    ```python
    class Solution:
        def maxProfit(self, prices: List[int]) -> int:
            ans = 0
            min_price = prices[0]
            for price in prices[1:]:
                ans = max(ans, price - min_price)
                min_price = min(min_price, price)
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦éå†æ•°ç»„ä¸€æ¬¡ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

2. [è·³è·ƒæ¸¸æˆ](https://leetcode.cn/problems/jump-game/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šéå†æ•°ç»„ï¼Œè®°å½•å½“å‰ä½ç½®èƒ½å¤Ÿåˆ°è¾¾çš„æœ€è¿œä½ç½®ï¼Œä¸æ–­æ›´æ–°è¿™ä¸ªæœ€è¿œä½ç½®ï¼Œä¸€æ—¦æœ‰ä¸€ä¸ªä¸‹æ ‡æ— æ³•è¾¾åˆ°å°±è¿”å› Falseï¼Œå¦åˆ™ä¸€å®šå¯ä»¥åˆ°è¾¾æœ€åä¸€ä¸ªä½ç½®ã€‚**

    ```python
    class Solution:
        def canJump(self, nums: List[int]) -> bool:
            mx = 0
            for i, x in enumerate(nums):
                if i > mx:           # è¯´æ˜æ— æ³•åˆ°è¾¾ i
                    return False
                mx = max(mx, i + x)  # è¯´æ˜ä» i æœ€å³å¯ä»¥è·³åˆ° i + x
            return True
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

3. [è·³è·ƒæ¸¸æˆ II](https://leetcode.cn/problems/jump-game-ii/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šæƒ³è±¡æˆé€ æ¡¥ã€‚**

    ```python
    class Solution:
        def jump(self, nums: List[int]) -> int:           # cur_right:  å·²å»ºé€ çš„æ¡¥çš„å³ç«¯ç‚¹
            ans = cur_right = next_right = 0              # next_right: ä¸‹ä¸€åº§æ¡¥çš„å³ç«¯ç‚¹çš„æœ€å¤§å€¼
            for i in range(len(nums) - 1):                # åªéå†åˆ° n - 2: for å¾ªç¯è®¡ç®—çš„æ˜¯åœ¨åˆ°è¾¾ç»ˆç‚¹ä¹‹å‰éœ€è¦é€ å¤šå°‘åº§æ¡¥ã€‚n âˆ’ 1 å·²ç»æ˜¯ç»ˆç‚¹äº†ï¼Œä¸éœ€è¦é€ æ¡¥
                next_right = max(next_right, i + nums[i]) # éå†çš„è¿‡ç¨‹ä¸­ï¼Œè®°å½•ä¸‹ä¸€åº§æ¡¥çš„æœ€è¿œç‚¹
                if cur_right == i:                        # æ— è·¯å¯èµ°ï¼Œå¿…é¡»å»ºæ¡¥
                    cur_right = next_right                # å»ºæ¡¥åï¼Œæœ€è¿œå¯ä»¥åˆ°è¾¾ next_right
                    ans += 1
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

4. [åˆ’åˆ†å­—æ¯åŒºé—´](https://leetcode.cn/problems/partition-labels/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šéå†å­—ç¬¦ä¸²ï¼Œè®°å½•æ¯ä¸ªå­—æ¯æœ€åå‡ºç°çš„ä½ç½®ã€‚ç„¶åä»å·¦åˆ°å³éå†å­—ç¬¦ä¸²ï¼Œç”¨ä¸€ä¸ªæŒ‡é’ˆä¸æ–­æ›´æ–°å½“å‰åŒºé—´çš„å³ç«¯ç‚¹ï¼Œå½“éå†åˆ°çš„ä½ç½®æ°å¥½ç­‰äºå½“å‰åŒºé—´çš„å³ç«¯ç‚¹æ—¶ï¼Œå°±è¯´æ˜å½“å‰åŒºé—´åˆå¹¶å®Œæ¯•ã€‚**

    ```python
    class Solution:
        def partitionLabels(self, s: str) -> List[int]:
            last = {c: i for i, c in enumerate(s)}  # æ¯ä¸ªå­—æ¯æœ€åå‡ºç°çš„ä¸‹æ ‡
            ans = []
            start = end = 0                         # å½“å‰æ­£åœ¨åˆå¹¶çš„åŒºé—´å·¦å³ç«¯ç‚¹
            for i, c in enumerate(s):
                end = max(end, last[c])             # æ›´æ–°å½“å‰åŒºé—´å³ç«¯ç‚¹çš„æœ€å¤§å€¼
                if i == end:                        # å½“å‰åŒºé—´åˆå¹¶å®Œæ¯•
                    ans.append(end - start + 1)     # åŒºé—´é•¿åº¦åŠ å…¥ç­”æ¡ˆ
                    start = i + 1                   # ä¸‹ä¸€ä¸ªåŒºé—´çš„å·¦ç«¯ç‚¹
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ s çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(âˆ£Î£âˆ£)ã€‚å…¶ä¸­ âˆ£Î£âˆ£ æ˜¯å­—ç¬¦é›†åˆçš„å¤§å°ï¼Œæœ¬é¢˜å­—ç¬¦å‡ä¸ºå°å†™å­—æ¯ï¼Œæ‰€ä»¥ âˆ£Î£âˆ£=26ã€‚

## åäº”ã€åŠ¨æ€è§„åˆ’

## åå…­ã€å¤šç»´åŠ¨æ€è§„åˆ’

## åä¸ƒã€æŠ€å·§

1. [åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode.cn/problems/single-number/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šåˆ©ç”¨å¼‚æˆ–è¿ç®— aâŠ•a=0 çš„æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¼‚æˆ–æ¥ã€Œæ¶ˆé™¤ã€æ‰€æœ‰å‡ºç°äº†ä¸¤æ¬¡çš„å…ƒç´ ï¼Œæœ€åå‰©ä¸‹çš„ä¸€å®šæ˜¯åªå‡ºç°ä¸€æ¬¡çš„å…ƒç´ ã€‚**

    ```python
    class Solution:
        def singleNumber(self, nums: List[int]) -> int:
            ans = 0
            for num in nums:
                ans ^= num
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦éå†æ•°ç»„ä¸€æ¬¡ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

    python å†™æ³•ï¼š

    ```python
    class Solution:
        def singleNumber(self, nums: List[int]) -> int:
            return reduce(xor, nums)
    ```

    å¼‚æˆ–æ“ä½œæœ‰ä»¥ä¸‹æ€§è´¨ï¼š

    - ä»»ä½•æ•°å’Œ 0 åšå¼‚æˆ–è¿ç®—ï¼Œç»“æœä»ç„¶æ˜¯åŸæ¥çš„æ•°ï¼Œå³ aâŠ•0=aã€‚
    - ä»»ä½•æ•°å’Œå…¶è‡ªèº«åšå¼‚æˆ–è¿ç®—ï¼Œç»“æœæ˜¯ 0ï¼Œå³ aâŠ•a=0ã€‚
    - å¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹å’Œç»“åˆå¾‹ï¼Œå³ aâŠ•bâŠ•a=bâŠ•aâŠ•a=bâŠ•(aâŠ•a)=bâŠ•0=bã€‚

2. [å¤šæ•°å…ƒç´ ](https://leetcode.cn/problems/majority-element/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šæƒ³è±¡æˆæ­¦æ—å¤§ä¼šæ‰“æ“‚å°ï¼Œåˆå§‹æ—¶ nums[0] æ˜¯æ“‚ä¸»ï¼Œå…¶åˆå§‹ã€Œç”Ÿå‘½å€¼ã€ä¸º 1ï¼Œéå†æ—¶å¦‚æœå½“å‰å…ƒç´ å’Œæ“‚ä¸»ç›¸åŒï¼Œå°±ç»™æ“‚ä¸»åŠ  1 ç‚¹ã€Œç”Ÿå‘½å€¼ã€ï¼Œå¦åˆ™å°±å‡ 1 ç‚¹ã€Œç”Ÿå‘½å€¼ã€ã€‚ç”Ÿå‘½å€¼å‡åˆ° 0 æ—¶å°±æ›´æ–°ä¸€ä¸ªæ–°çš„æ“‚ä¸»**

    ```python
    class Solution:
        def majorityElement(self, nums: List[int]) -> int:
            ans = cnt = 0
            for x in nums:
                if cnt == 0:     # x æ˜¯åˆå§‹æ“‚ä¸»ï¼Œç”Ÿå‘½å€¼ä¸º 1
                    ans = x
                    cnt = 1
                else:
                    if x == ans: # æ¯”æ­¦, åŒé—¨åŠ è¡€
                        cnt += 1
                    else:        # å¦åˆ™æ‰£è¡€
                        cnt -= 1
            return ans
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æˆ‘ä»¬åªéœ€è¦éå†æ•°ç»„ä¸€æ¬¡ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

3. [é¢œè‰²åˆ†ç±»](https://leetcode.cn/problems/sort-colors/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šæ’å…¥æ’åºã€‚ç”±äºåªæœ‰ 0, 1, 2 ä¸‰ç§å…ƒç´ ï¼Œæ‰€ä»¥å¯ä»¥ç”¨æ’å…¥æ’åºçš„æ€è·¯ï¼Œæ¯æ¬¡æŠŠå½“å‰å…ƒç´ æ’å…¥åˆ°æœ‰åºå‰ç¼€çš„åˆé€‚ä½ç½®ï¼šã€Œè®¡æ•°+è¦†ç›–ã€ã€‚**

    ```python
    class Solution:
        def sortColors(self, nums: List[int]) -> None:
            # p0: numsé‡Œ 0 çš„ä¸ªæ•°
            # p1: numsé‡Œ 0 å’Œ 1 çš„ä¸ªæ•°
            p0 = p1 = 0
            for i, x in enumerate(nums):
                # å‡è®¾å‰ç¼€ nums[0] åˆ° nums[iâˆ’1] æ˜¯æœ‰åºçš„ï¼ŒæŠŠ nums[i] æ’å…¥è¿™ä¸ªæœ‰åºå‰ç¼€ï¼Œ
                # ä»è€ŒæŠŠå‰ç¼€ nums[0] åˆ° nums[i] å˜æˆæœ‰åºçš„ã€‚i.e. æ€»æ˜¯ä»åé¢æ’å…¥ 2
                nums[i] = 2          # step 1: æ’å…¥ 2
                if x <= 1:
                    nums[p1] = 1     # step 2: æ’å…¥ 1
                    p1 += 1
                if x == 0:
                    nums[p0] = 0     # step 3: æ’å…¥ 0
                    p0 += 1
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯numsçš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

4. [ä¸‹ä¸€ä¸ªæ’åˆ—](https://leetcode.cn/problems/next-permutation/description/)ï¼š

    **å…³é”®æ€è·¯ï¼šä¸‰æ­¥èµ°ã€‚**

    ```python
    class Solution:
        def nextPermutation(self, nums: List[int]) -> None:
            n = len(nums)

            # Step1: æ‰¾ xï¼Œä»å³å‘å·¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªå°äºå³ä¾§ç›¸é‚»æ•°å­—çš„æ•° nums[i]
            i = n - 2
            while i >= 0 and nums[i] >= nums[i + 1]:
                i -= 1

            # Step2: æ‰¾ yï¼Œä»å³å‘å·¦æ‰¾åˆ° nums[i] å³è¾¹æœ€å°çš„å¤§äº nums[i] çš„æ•° nums[j]
            if i >= 0:
                j = n - 1
                while nums[j] <= nums[i]:
                    j -= 1
                nums[i], nums[j] = nums[j], nums[i] # äº¤æ¢ x å’Œ y (nums[i] å’Œ nums[j])

            # Step3: åè½¬ nums[i+1:]ï¼ˆå¦‚æœä¸Šé¢è·³è¿‡ç¬¬äºŒæ­¥ï¼Œæ­¤æ—¶ i = -1ï¼‰
            left, right = i + 1, n - 1
            while left < right:
                nums[left], nums[right] = nums[right], nums[left]
                left += 1
                right -= 1
    ```

    å¤æ‚åº¦åˆ†æï¼š

    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯ nums çš„é•¿åº¦ã€‚
    - ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

    ![alt text](../img/image-74.png)